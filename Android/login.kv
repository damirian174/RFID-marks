<TextInput>:
    error: False
    background_normal: ''
    background_active: ''
    background_color: (1, 1, 1, 1)
    foreground_color: (0.2, 0.2, 0.2, 1)
    size_hint: (1, None)
    height: dp(40) if root.width < 600 else dp(50)
    padding: [dp(10), dp(10)]
    multiline: False
    canvas.after:
        Color:
            rgba: (1, 0, 0, 0.7) if self.error else (0, 0, 0, 0)
        Line:
            width: dp(1.5)
            rectangle: (self.x, self.y, self.width, self.height)

<LoginScreen>:
    ScrollView:
        size_hint: (1, 1)
        do_scroll_x: False
        
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: max(self.minimum_height, root.height)
            padding: [dp(20) if root.width < 600 else dp(40), dp(20)]
            spacing: dp(10) if root.width < 600 else dp(15)
            
            # Верхний отступ
            BoxLayout:
                size_hint: (1, None)
                height: dp(20) if root.width < 600 else dp(40)
            
            # Заголовок
            Label:
                id: title_label
                text: 'ВХОД В СИСТЕМУ'
                bold: True
                color: (0.2, 0.2, 0.2, 1)
                size_hint: (1, None)
                height: self.texture_size[1] + dp(10)
                text_size: self.width, None
                halign: 'center'
                valign: 'middle'
            
            # Поля ввода
            TextInput:
                id: username
                hint_text: 'Логин'
            
            TextInput:
                id: password
                hint_text: 'Пароль'
                password: True
            
            # Сообщение об ошибке
            Label:
                id: error_label
                text: root.error_message
                color: (1, 0, 0, 1)
                size_hint: (1, None)
                height: self.texture_size[1] if self.text else 0
                text_size: self.width, None
                halign: 'center'
                valign: 'middle'
            
            # Кнопка входа
            Button:
                id: login_button
                text: 'ВОЙТИ'
                size_hint: (1, None)
                height: dp(40) if root.width < 600 else dp(50)
                background_color: (0.35, 0.65, 0.95, 1)
                color: (1, 1, 1, 1)
                bold: True
                background_normal: ''
                on_press: root.login()
                canvas.before:
                    Color:
                        rgba: (0.35, 0.65, 0.95, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [dp(20) if root.width < 600 else dp(25)]
            
            # Нижний отступ
            BoxLayout:
                size_hint: (1, None)
                height: dp(20) if root.width < 600 else dp(40)